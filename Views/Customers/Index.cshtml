@model IEnumerable<WalletAdmin.Models.Customer>
@{
    ViewData["Title"] = "Customers";
}
<div class="page-wrapper mt-4">

<div class="d-flex justify-content-between align-items-center mt-15 mb-4">
    <h2 class="fw-bold text-dark">Customers</h2>

    <a asp-action="Create"
       class="btn d-flex align-items-center gap-2"
       style="            background: linear-gradient(135deg, #ffff 0%, #7CFFE4 100%);
            color: #0a1a18;
            font-weight: 700;">
        <i class="bi bi-plus-lg"></i>
        Create New Customer
    </a>
</div>

<div class="card bg-dark bg-opacity-100 border border-info border-opacity-100 shadow-lg">
    <div class="table-responsive">
        <table class="table table-light table-hover align-middle mb-0">
            <thead class="text-uppercase text-info small">
                <tr>
                    <th>First Name</th>
                    <th>Last Name</th>
                    <th>Email</th>
                    <th>Created</th>
                    <th class="text-end">Actions</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var item in Model)
                {
                    <tr>
                        <td class="fw-semibold">@item.FirstName</td>
                        <td>@item.LastName</td>
                        <td>@item.Email</td>
                        <td>@item.CreatedAt</td>
                        <td class="text-end">
                            <div class="btn-group btn-group-sm">

                                <!-- Edit -->
                                <a asp-action="Edit"
                                   asp-route-id="@item.CustomerId"
                                   class="btn btn-outline-warning"
                                   data-bs-toggle="tooltip"
                                   title="Edit customer">
                                    <i class="bi bi-pencil-square"></i>
                                </a>

                                <!-- Wallets -->
                                <a asp-controller="Wallets"
                                   asp-action="ByCustomer"
                                   asp-route-customerId="@item.CustomerId"
                                   class="btn btn-outline-info"
                                   data-bs-toggle="tooltip"
                                   title="View wallets">
                                    <i class="bi bi-wallet2"></i>
                                </a>

                                <!-- Delete -->
                                <a asp-action="Delete" 
                                   asp-route-id="@item.CustomerId"
                                   class="btn btn-outline-danger"
                                   data-bs-toggle="tooltip"
                                   title="Delete customer">
                                    <i class="bi bi-trash"></i>
                                </a>
                            </div>
                        </td>
                    </tr>
                }

                @if (!Model.Any())
                {
                    <tr>
                        <td colspan="5" class="text-center text-muted py-4">
                            No customers found.
                        </td>
                    </tr>
                }
            </tbody>
        </table>
    </div>
</div>
@section Styles {
    <link rel="stylesheet"
          href="~/css/Index.css"
          asp-append-version="true" />
}
